import { createContext, useContext, useState, useEffect } from 'react';

const translations = {
  en: {
    welcome: 'Welcome',
    login: 'Login',
    logout: 'Logout',
    password: 'Password',
    loading: 'Loading...',
    email: 'Email address',
    demoApp: 'Demo application - Use credentials below',
    demoCredentials: 'Demo Credentials',
    backToHome: '← Back to home',
    admin: 'Admin',
    manager: 'Manager',
    employee: 'Employee',
    scanAsset: 'Scan the asset',
    verifyIdentity: 'Verify identity',
    verifyLocation: 'Verify location',
    applyPolicy: 'Apply policy',
    recordCustody: 'Record custody',
    qrOrNfc: 'QR code or NFC tag identification',
    numberVerification: 'Number verification via Open Gateway',
    geofenceCheck: 'Network-based geofence check',
    evaluateRules: 'Evaluate rules and risk signals',
    auditTrail: 'Immutable audit trail entry',
    bookDemo: 'Book a demo',
    requestPricing: 'Request pricing',
    frequentlyAsked: 'Frequently asked questions',
    useCases: 'Use cases',
    pricing: 'Pricing',
    product: 'Product',
    howItWorks: 'How it works',
    security: 'Security',
    integrations: 'Integrations',
    faq: 'FAQ',
    company: 'Company',
    privacy: 'Privacy',
    compliance: 'Compliance',
    status: 'Status',
    contact: 'Contact',
    verifiedOnSite: 'Verified on-site actions',
    employeeToNumber: 'Employee-to-number binding',
    fraudAware: 'Fraud-aware approvals',
    immutableAudit: 'Immutable audit trail',
    inventoryCustody: 'Inventory & Custody',
    authorizationPolicy: 'Authorization & Policy',
    auditReporting: 'Audit & Reporting',
    warehouseTools: 'Warehouse Tools',
    fieldServiceKits: 'Field Service Kits',
    datacenterHardware: 'Datacenter Hardware',
    medicalDevices: 'Medical Devices',
    constructionEquipment: 'Construction Equipment',
    regulatedInventory: 'Regulated Inventory',
    ssoProviders: 'SSO Providers',
    webhooksApi: 'Webhooks & API',
    enterpriseSystems: 'Enterprise Systems',
    platformOverview: 'Platform Overview',
    systemArchitecture: 'System Architecture',
    coreComponents: 'Core Components',
    policyEngine: 'Policy Engine',
    rulesDecisions: 'Rules & Decisions',
    custodyService: 'Custody Service',
    transactions: 'Transactions',
    auditService: 'Audit Service',
    hashChain: 'Hash Chain',
    openGatewayIntegration: 'Open Gateway Integration',
    database: 'Database',
    geocustodyApiGateway: 'GeoCustody API Gateway',
    mobileApp: 'Mobile App',
    approvals: 'Approvals',
    dashboard: 'Dashboard',
    homeSite: 'Home Site',
    actions: 'Actions',
    edit: 'Edit',
    delete: 'Delete',
    unknown: 'Unknown',
    loadingData: 'Loading data...',
    noData: 'No data available',
    submit: 'Submit',
    cancel: 'Cancel',
    save: 'Save',
    close: 'Close',
    error: 'Error',
    success: 'Success',
    // Add more as needed
  },
  es: {
    welcome: 'Bienvenido',
    login: 'Iniciar sesión',
    logout: 'Cerrar sesión',
    password: 'Contraseña',
    loading: 'Cargando...',
    email: 'Correo electrónico',
    demoApp: 'Aplicación de demostración - Use las credenciales abajo',
    demoCredentials: 'Credenciales de demostración',
    backToHome: '← Volver al inicio',
    admin: 'Administrador',
    manager: 'Gerente',
    employee: 'Empleado',
    scanAsset: 'Escanear el activo',
    verifyIdentity: 'Verificar identidad',
    verifyLocation: 'Verificar ubicación',
    applyPolicy: 'Aplicar política',
    recordCustody: 'Registrar custodia',
    qrOrNfc: 'Identificación por código QR o etiqueta NFC',
    numberVerification: 'Verificación de número vía Open Gateway',
    geofenceCheck: 'Verificación de geovalla basada en red',
    evaluateRules: 'Evaluar reglas y señales de riesgo',
    auditTrail: 'Entrada de registro de custodia inmutable',
    bookDemo: 'Solicitar una demo',
    requestPricing: 'Solicitar precios',
    frequentlyAsked: 'Preguntas frecuentes',
    useCases: 'Casos de uso',
    pricing: 'Precios',
    product: 'Producto',
    howItWorks: 'Cómo funciona',
    security: 'Seguridad',
    integrations: 'Integraciones',
    faq: 'FAQ',
    company: 'Compañía',
    privacy: 'Privacidad',
    compliance: 'Cumplimiento',
    status: 'Estado',
    contact: 'Contacto',
    verifiedOnSite: 'Acciones verificadas en sitio',
    employeeToNumber: 'Vinculación empleado-número',
    fraudAware: 'Aprobaciones antifraude',
    immutableAudit: 'Registro de auditoría inmutable',
    inventoryCustody: 'Inventario y Custodia',
    authorizationPolicy: 'Autorización y Política',
    auditReporting: 'Auditoría e Informes',
    warehouseTools: 'Herramientas de almacén',
    fieldServiceKits: 'Kits de servicio de campo',
    datacenterHardware: 'Hardware de centro de datos',
    medicalDevices: 'Dispositivos médicos',
    constructionEquipment: 'Equipos de construcción',
    regulatedInventory: 'Inventario regulado',
    ssoProviders: 'Proveedores SSO',
    webhooksApi: 'Webhooks y API',
    enterpriseSystems: 'Sistemas empresariales',
    platformOverview: 'Resumen de la plataforma',
    systemArchitecture: 'Arquitectura del sistema',
    coreComponents: 'Componentes principales',
    policyEngine: 'Motor de políticas',
    rulesDecisions: 'Reglas y decisiones',
    custodyService: 'Servicio de custodia',
    transactions: 'Transacciones',
    auditService: 'Servicio de auditoría',
    hashChain: 'Cadena hash',
    openGatewayIntegration: 'Integración Open Gateway',
    database: 'Base de datos',
    geocustodyApiGateway: 'GeoCustody API Gateway',
    mobileApp: 'Aplicación móvil',
    approvals: 'Aprobaciones',
    dashboard: 'Panel',
    homeSite: 'Sitio base',
    actions: 'Acciones',
    edit: 'Editar',
    delete: 'Eliminar',
    unknown: 'Desconocido',
    loadingData: 'Cargando datos...',
    noData: 'No hay datos disponibles',
    submit: 'Enviar',
    cancel: 'Cancelar',
    save: 'Guardar',
    close: 'Cerrar',
    error: 'Error',
    success: 'Éxito',
    // Add more as needed
  },
};

const I18nContext = createContext();

export function I18nProvider({ children }) {
  const [lang, setLang] = useState('en');

  useEffect(() => {
    // Auto-detect browser language
    const browserLang = navigator.language?.slice(0, 2);
    if (browserLang === 'es') setLang('es');
    else setLang('en');
  }, []);

  const t = (key) => translations[lang][key] || key;

  return (
    <I18nContext.Provider value={{ lang, setLang, t }}>
      {children}
    </I18nContext.Provider>
  );
}

export function useI18n() {
  return useContext(I18nContext);
}
